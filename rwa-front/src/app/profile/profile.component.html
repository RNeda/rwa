<app-nav></app-nav>
<div class="profile">
    <div class="centeredDiv">
      <div class="profile-names">
        <h2>{{ profileToDisplay.name + " " }}</h2>
        <h2>
          {{ profileToDisplay.surname }}
        </h2>
      </div>
    </div>
    <div class="profile-details">
      <div class="profile-row">
        <span class="profile-label">Username:</span>
        <span>{{ profileToDisplay.username }}</span>
      </div>
      <div class="profile-row">
        <span class="profile-label">Email:</span>
        <span>{{ profileToDisplay.email }}</span>
      </div>
    </div>

    <div class="edit">
      <div class="edit-profile">
        <button
          type="button"
          aria-label="Delete profile"
          (click)="openDeleteDialog(0,1)"
          mat-raised-button
          class="edit-button"
        >
          Delete profile
          <!-- <mat-icon aria-label="Delete icon">delete</mat-icon> -->
        </button>
        <button
          type="button"
          aria-label="New dreamteam"
          (click)="newDreamTeam()"
          mat-raised-button
          class="edit-button"
        >
          New dreamteam
          <!-- <mat-icon aria-label="Delete icon">delete</mat-icon> -->
        </button>
        <button *ngIf="isAdmin"
          type="button"
          aria-label="New team"
          (click)="newTeam()"
          mat-raised-button
          class="edit-button"
        >
          New team
          <!-- <mat-icon aria-label="Delete icon">delete</mat-icon> -->
        </button>
        <button *ngIf="isAdmin"
          type="button"
          aria-label="Show teams"
          (click)="showTeamsBtn()"
          mat-raised-button
          class="edit-button"
        >
          {{showteamsbtntext}}
          <!-- <mat-icon aria-label="Delete icon">delete</mat-icon> -->
        </button>
      </div>
      <button *ngIf="isAdmin"
          type="button"
          aria-label="New game"
          (click)="newGame()"
          mat-raised-button
          class="edit-button"
        >
          New game
          <!-- <mat-icon aria-label="Delete icon">delete</mat-icon> -->
        </button>
        <button *ngIf="isAdmin"
          type="button"
          aria-label="New player"
          (click)="newPlayer()"
          mat-raised-button
          class="edit-button"
        >
          New player
          <!-- <mat-icon aria-label="Delete icon">delete</mat-icon> -->
        </button>    
    </div>
    <div *ngIf="createTeamflag && isAdmin">
      <app-create-team (teamCreated)="handleTeamCreated($event)" (cancelCreation)="handleCancelCreation($event)"></app-create-team>

    </div>
    <div *ngIf="createDtFlag">
      <app-create-dreamteam (dreamteamCreated)="handleDreamTeamCreated($event)" (canceldreamteamCreation)="handleCancelDreamTeamCreation($event)"></app-create-dreamteam>

    </div>
    <div *ngIf="createPlayerflag && isAdmin">
      <app-create-player (playerCreated)="handlePlayerCreated($event)" (cancelPlayerCreation)="handleCancelPlayerCreation($event)"></app-create-player>

    </div>
    <div *ngIf="showTeams && isAdmin">
      <div  *ngFor="let t of allTeams">
        <app-show-team [team]="t" [showDeleteBtn]="showTeams" (teamDeleted)="handleTeamDeleted($event)"></app-show-team>
      </div>
    </div>
    <div class="dream-teams">
      <h2>{{ profileToDisplay.name }}'s DreamTeams</h2>
    
        
        <div class="eachdt" *ngFor="let dreamTeam of fulldts">
          
          <div *ngIf="dreamTeam; else loading"> 
            <h2 >{{ dreamTeam.name }}</h2>
            
            <p>Likes: {{ dreamTeam.likes }}</p>
            <p>Dislikes: {{ dreamTeam.dislikes }}</p>
            <button 
            type="button"
            aria-label="show dt"
            (click)="showDt(dreamTeam.id)"
            mat-raised-button
            class="edit-button">
            Show details</button>
            <button 
            type="button"
            aria-label="show dt"
            (click)="updateDt(dreamTeam.id)"
            mat-raised-button
            class="edit-button">Update dreamteam</button>
            <button 
            type="button"
            aria-label="show dt"
            (click)="openDeleteDialog(dreamTeam.id,2)"
            mat-raised-button
            class="edit-button">
            Delete dreamteam</button>
            <!--"deleteDreamteam(dreamTeam.id)"-->
            
          </div>

          <ng-template #loading>
            <p>Loading DreamTeam details...</p>
          </ng-template>


        </div>
      <!--</div>-->
      
      <ng-template #noDreamTeams>
        <p>No DreamTeams available.</p>
      </ng-template>
    </div>
  </div>

  <!--<app-background-canvas></app-background-canvas>-->